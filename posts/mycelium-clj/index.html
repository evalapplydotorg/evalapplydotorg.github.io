<!doctype html><html lang=en prefix="og: https://ogp.me/ns#"><title>Riff: A "mycelium-clj" for the Clojure ecosystem?</title><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=author content="Aditya Athalye"><meta name=description content="In a world of concrete objects, steel frameworks bring sense and order. In a forest of composable tools, libraries and open-ended schemas, it would be the mycelia. A frustrated yet optimistic man muses &#34;Might such a thing come to be?&#34;."><meta name=keywords content="systems thinking,functional programming,architecture,software design,technology leadership,devops,clojure"><meta property="og:title" content="Riff: A &#34;mycelium-clj&#34; for the Clojure ecosystem?"><meta property="og:description" content="In a world of concrete objects, steel frameworks bring sense and order. In a forest of composable tools, libraries and open-ended schemas, it would be the mycelia. A frustrated yet optimistic man muses &#34;Might such a thing come to be?&#34;."><meta property="og:locale" content="en_GB"><meta property="og:type" content="website"><meta property="og:url" content="https://www.evalapply.org/posts/mycelium-clj/index.html"><link rel="stylesheet preload" as=style href=https://www.evalapply.org/static/css/style.css><link href=https://www.evalapply.org/index.xml rel=alternate type=application/rss+xml title="Eval / Apply is pure magic"><link rel=canonical href=https://www.evalapply.org/posts/mycelium-clj/index.html><link rel=icon type=image/vnd.microsoft.icon href=https://www.evalapply.org/static/img/favicon.ico><div id=the-very-top class="stack center box"><header id=site-header><div class="box invert stack"><div class="with-sidebar site-header"><a class="box icon" href=https://www.evalapply.org/index.html><img src=https://www.evalapply.org/static/img/Lisp_logo.svg loading=lazy alt="Eval / Apply is pure magic"></a><div class=stack><h1 class="site-header title">Eval / Apply is pure magic</h1><nav class="cluster site-header site-header:nav-items"><a href=https://www.evalapply.org/index.html>&#955; hello</a>
<a href=https://www.evalapply.org/posts/index.html>&#9753; read</a>
<a href=mailto:hello@evalapply.org>&nbsp;&#9993; write</a>
<a href=https://www.evalapply.org/now.html#main>&#171; now &#187;</a>
<a href=https://www.evalapply.org/index.xml>&ap; feed</a></nav></div></div></div></header><main id=main><article id=blog-post class=stack><header><div class=stack><div class=title>Riff: A "mycelium-clj" for the Clojure ecosystem?</div><div class="cluster post-meta"><span>&uarr; <a href=#site-header rel=bookmark>menu</a></span>
<span>&darr; <a href=#blog-post-footer rel=bookmark>discuss</a></span></div><div class=summary>In a world of concrete objects, steel frameworks bring sense and order. In a forest of composable tools, libraries and open-ended schemas, it would be the mycelia. A frustrated yet optimistic man muses "Might such a thing come to be?".</div><div class="cluster post-meta"><span class=author>By: Adi</span>
<span class=date>Published: 2023-10-19</span>
<span class=date>Updated: 2023-10-19</span>
<span class=tags>Tags: / <a href=https://www.evalapply.org/tags/riff/index.html#main>#riff</a> / <a href=https://www.evalapply.org/tags/clojure/index.html#main>#clojure</a> / <a href=https://www.evalapply.org/tags/systems/index.html#main>#systems</a> / <a href=https://www.evalapply.org/tags/architecture/index.html#main>#architecture</a> / <a href=https://www.evalapply.org/tags/recurse_center/index.html#main>#recurse_center</a></span></div><hr></div></header><section class=stack><p>A thousand library-flowers bloom, bushes and trees and vines and creepers grow, but if nothing reconnects them, the whole remains diluted and weak and unfathomable and forbidding.<p>In a world of concrete objects, steel frameworks bring sense and order.<p>In a forest of composable tools and libraries, it is the invisible mycelia.<p>I am dreaming of a tool. I want to name it <strong>mycelium-clj</strong>.<p>What I can't tell is if all this boils down to <em>"Oh look, yet another internet rando witlessly reverse-engineered a cheap knock-off of RDF</em> <em>and the semantic web.".</em>. Or if it is something practicable within the little village (relatively speaking) of Clojureland.<p>Spitballing ahead!<p>While Clojure the language itself is a joy to use, being <em>hosted</em> means it gives us a double edged sword, with reach (yay!), but also the <em>compounded</em> mass of the host ecosystem (Java, Javascript, .net CLR, mobile) <em>and</em> the Clojure-specific ecosystem (REPLs, IDEs, libraries, tools). The more we full-stack we try to go, the more unwieldy the whole gets.<p>For example, the joy of libraries is that you get to choose. The agony of libraries is that you <em><strong>have</strong></em> to choose. So goes for the other chess pieces. All told it gets quite overwhelming quite fast, at least in my experience. Ultimately everyone gives up and uses the "phone a friend" option (if they even have one).<p>Yours truly phoned his friends.<p>A few weeks ago, I decided to jump into full stack Clojure web development for my "<a href=https://www.recurse.com/blog/185-do-more-than-you-think>Impossible Stuff Day</a>" project at the Recurse Center. For that, I started spinning up all the machinery. And by "all" I mean the whole nine yards—working through the multifarious build tool options, REPL choices, editor options, IDE integration options (editor + build + REPL), package management tools and conventions, library options, project conventions etc. And the spinning up has spun veeeery slowly.<p>Now, I am willing to incur the effort and hair loss to find and traverse the vast knowledge graph of all this machinery, only because I am optimistic about the (eventual) payoff.<p>As it happens, though, I am not alone in feeling frustrated and confused.<p>Whatsapp rants to the aforementioned friends elicited a "Alas, 'tis so.". A bunch of :+1:s and :sweat-smile:s rapidly followed. These veteran Clojurists, each with over a decade of experience running Clojure in production, had felt that "full stack" burn too. Oh the schadenfreude. Woe be the newcomer professional programmer. Pity the hapless absolute beginner.<p>As much as I dislike how confusing it has been, I am telling myself it is a sign that the ecosystem bigger and more diverse than most people believe. I am optimistic that much of the gallimaufry can be tamed with good curated documentation and tools, which people seem to be interested in (e.g the <a href=https://www.clojuriststogether.org/news/july-and-august-2023-long-term-project-updates/>recent Clojurists Together "long term funding" round</a> heavily features documentation and tools authors). Hopefully this "ecosystem knowledge and tools" situation will improve in the coming years.<p>What is not on that list is a Rails clone as a "killer app". The idea pops up regularly in this line of discussion. Personal tastes notwithstanding, I think frameworks are at odds with the emergent architecture of Clojureland itself, which falls out of the fact that embraces functional composition <em>with</em> à la carte polymorphism. The Expression Problem solved. Not objects, but also not pure functions alone. Both. Properties of both together engender dynamic networks with open-ended participation.<p>If not one framework to rule them all, a cookbook of sorts could be a solution, but it would have to be a living document. Ecosystems change, and the Clojure ecosystem has been changing quite rapidly. Apparently, a capable, stable, backwards compatible language substrate is playground for fantastic creativity and innovation. Plus we also get access to host ecosystem creativity. That's a <em>lot</em> of change to track!<p>Which brings us back to the problem of mechanical knowledge graphs.<p>Analogous to the dependency graph resolving core of Clojure cli, a <strong>mycelium-clj</strong> will dynamically construct ecosystem pathways and graphs that you and I can traverse and query as human beings.<ul><li>Start at (almost) nothing, and it will show you what's out there and reveal the interconnections.<li>It will source information from disparate sources and make them available in context.<li>It will let content writers and maintainers participate in the graph.<li>It could be a schema specification with globally namespaced structure, semantics, and open-ended interfaces.<li>Maybe it will integrate dependency graphs generated by dev tools. Maybe it will run basis "microformats" style machine-readable metadata. Maybe a shared ontology encoded using EDN (Garden of EDN, anyone?!), that authors can use to add metadata to their projects (books, blog posts, libraries etc.).</ul><p>An example <strong>mycelium</strong> session would address general questions like:<ul><li>"I want to make a :full-stack :database backed :web application.". Starting from here it would take you down decision trees. Choose set of capabilities #{primary store, search, cache …, unsure}, set of frontend or backend language choices #{clj, cljs, java, javascript, unsure}, set of transport formats #{json, edn, xml, avro, unsure}, set of build tools #{lein, cli-tools, npm, unsure}. Next, for each it would pull up library options, preferably with import instructions for the chosen build tool, link to the docs, and some quickstart summary. Finally, it would use the build tool to generate a skeleton project with the appropriate config files, directory structure, dependencies, editor hookups etc.</ul><p>As well as more specific questions like:<ul><li>"I want to make a :full-stack :web-app with :postgres, :elasticsearch, :kafka, :clojure, :cljs, :re-frame, :cli-tools, :reitit, :edn, :clojure-test." would generate its own decision tree.</ul><p>As well as other fanciful stuff on those lines…<p>A man can dream, no?<p>—<p><em>(Narrator: And with that he turned his gaze back to the abyss of his command line, where the crashed clj command remained crashed…)</em></section><footer id=blog-post-footer class="footer stack"><nav class=cluster><span>&uarr; <a href=#blog-post rel=bookmark>title</a></span>
<span>&uarr; <a href=#site-header rel=bookmark>menu</a></span>
<span><b>Y</b> <a href="https://news.ycombinator.com/submitlink?u=https%3A%2F%2Fwww.evalapply.org%2Fposts%2Fmycelium-clj%2Findex.html&t=Riff%3A%20A%20%22mycelium-clj%22%20for%20the%20Clojure%20ecosystem%3F">discuss at HN</a></span>
<span>&rarr; <a href=mailto:weblog@evalapply.org>email comments</a></span>
<span><a class=site-feed href=https://www.evalapply.org/index.xml>Blog feed</a></span></nav><hr><form class=cluster action=https://buttondown.email/api/emails/embed-subscribe/evalapply method=post target=popupwindow onsubmit="window.open('https://buttondown.email/evalapply','popupwindow')"><span>Occasional newsletter</span>
<input type=email name=email id=bd-email>
<span><input type=submit value="Get the eval/apply dispatch">
<em>(thanks, <a href=https://buttondown.email target=_blank>Buttondown</a>!)</em></span></form></footer></article></main><footer id=site-footer><hr><div class="box invert footer stack"><p>&copy; 2023,
<a href=http://adityaathalye.com target=_blank>Aditya Athalye</a>.
<span>All content licensed
<a rel=license href=http://creativecommons.org/licenses/by-sa/4.0/>CC BY-SA 4.0
</a>, except where noted otherwise.</span>
Built with
<a href=https://github.com/adityaathalye/shite>shite</a>.</div></footer><script defer src=https://static.cloudflareinsights.com/beacon.min.js data-cf-beacon='{"token": "2a55df7e78f941c29a35207cedd0f66c"}'></script></div>