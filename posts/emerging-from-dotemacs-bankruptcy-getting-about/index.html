<!DOCTYPE html>
<html lang="en" prefix="og: https://ogp.me/ns#">
  <head>
    <!-- Some basic hygiene meta-data -->
<title>Emerging from dotemacs bankruptcy the hard way: getting about</title>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="author" content="Aditya Athalye">
<meta name="description"
      content="We want to maximize our ability to &quot;stay in The Zone&quot;. So the aim is to create the fastest, smoothest, tightly integrated, and unobtrusive mechanism to get things done using the keyboard alone.">
<meta name="keywords" content="systems thinking,functional programming,architecture,software design,technology leadership,devops,clojure">
<meta property="og:title" content="Emerging from dotemacs bankruptcy the hard way: getting about">
<meta property="og:description" content="We want to maximize our ability to &quot;stay in The Zone&quot;. So the aim is to create the fastest, smoothest, tightly integrated, and unobtrusive mechanism to get things done using the keyboard alone.">
<meta property="og:locale" content="en_GB">
<meta property="og:type" content="website">
<meta property="og:url" content="https://www.evalapply.org/posts/emerging-from-dotemacs-bankruptcy-getting-about/index.html">
    <link rel="stylesheet preload" type="text/css" as="style" href="https://www.evalapply.org/static/css/style.css">
<link href="https://www.evalapply.org/index.xml"
      rel="alternate" type="application/rss+xml"
      title="Aditya Athalye writes and works here.">
<link rel="canonical" href="https://www.evalapply.org/posts/emerging-from-dotemacs-bankruptcy-getting-about/index.html">
<link rel="icon" type="image/vnd.microsoft.icon" href="https://www.evalapply.org/static/img/favicon.ico">
</head>
  <body>
    <div id="the-very-top" class="stack center box">
        <header id="site-header">
  <div class="box invert stack">
    <div class="with-sidebar site-header">
      <a class="box icon" href="https://www.evalapply.org/index.html">
        <img src="https://www.evalapply.org/static/img/Lisp_logo.svg" loading="lazy" alt="Aditya Athalye writes and works here.">
      </a>
      <div class="stack">
        <h1 class="site-header title">Aditya Athalye writes and works here.</h1>
        
        <nav class="cluster site-header site-header:nav-items">
          <a href="https://www.evalapply.org/index.html">
   &lambda; know
</a>
<a href="https://www.evalapply.org/posts/index.html">
   &#9753; read
</a>
<a href="https://www.youtube.com/@evalapplydotorg/playlists" target="_blank">
&#10086; see
</a>
<a href="https://www.evalapply.org/index.html#standing-invitation">
   &nbsp;&#x2709; mail
</a>
<a href="https://www.evalapply.org/hire.html">
   $ hire
</a>
<a href="https://www.evalapply.org/now.html#main">
   &raquo; now
</a>
<a href="https://www.evalapply.org/index.xml" target="_blank">
   &asymp; feed
</a>
        </nav>
      </div>
    </div>
  </div>
</header>
  <main id="main">
    <article id="blog-post" class="stack">
  <header class="stack">
      <p class="title">Emerging from dotemacs bankruptcy the hard way: getting about</p>

      <p class="cluster post-meta">
        
        <span class="date">Published: 2023-08-02</span>
        <span class="date">Updated: 2023-08-05</span>
        <span class="author">By: Aditya Athalye</span>
      </p>

      <p class="summary">
        We want to maximize our ability to "stay in The Zone". So the aim is to create the fastest, smoothest, tightly integrated, and unobtrusive mechanism to get things done using the keyboard alone.
      </p>

     <div class="post-meta">

      <nav class="cluster">
        <span>Tags:</span>
        <a href="https://www.evalapply.org/tags/programming/index.html#main">#programming</a><a href="https://www.evalapply.org/tags/emacs/index.html#main">#emacs</a><a href="https://www.evalapply.org/tags/howto/index.html#main">#howto</a><a href="https://www.evalapply.org/tags/recurse_center/index.html#main">#recurse_center</a>
      </nav>

      <p><hr></p>
            <nav class="cluster">
        <a href="mailto:blog.comments@evalapply.org?subject=DELETE_ME_HUMAN Emerging from dotemacs bankruptcy the hard way: getting about" rel="bookmark">&#x2709; email me</a>
        <span>&raquo; share &rarr;</span>
        <a href="https://bsky.app/intent/compose?text=Emerging%20from%20dotemacs%20bankruptcy%20the%20hard%20way%3A%20getting%20about%20https%3A%2F%2Fwww.evalapply.org%2Fposts%2Femerging-from-dotemacs-bankruptcy-getting-about%2Findex.html" target="_blank">[bsky]</a>
        <a href="https://www.linkedin.com/sharing/share-offsite/?url=https%3A%2F%2Fwww.evalapply.org%2Fposts%2Femerging-from-dotemacs-bankruptcy-getting-about%2Findex.html" target="_blank">[in]</a>
        <a href="https://news.ycombinator.com/submitlink?u=https%3A%2F%2Fwww.evalapply.org%2Fposts%2Femerging-from-dotemacs-bankruptcy-getting-about%2Findex.html&t=Emerging%20from%20dotemacs%20bankruptcy%20the%20hard%20way%3A%20getting%20about" target="_blank"> [HN]</a>
        <a href="https://lobste.rs/stories/new" target="_blank">[lobste.rs]</a>
        <a href="http://www.reddit.com/submit?url=https%3A%2F%2Fwww.evalapply.org%2Fposts%2Femerging-from-dotemacs-bankruptcy-getting-about%2Findex.html&title=Emerging%20from%20dotemacs%20bankruptcy%20the%20hard%20way%3A%20getting%20about" target="_blank">[reddit]</a>
        <a class="site-feed" href="https://www.evalapply.org/index.xml">feed</a>
      </nav>
            <p>
        <form action="https://buttondown.email/api/emails/embed-subscribe/evalapply"
              method="post" target="popupwindow"
              onsubmit="window.open('https://buttondown.email/evalapply','popupwindow')">
          <input type="email" name="email" id="bd-email">
          <span>
            <input type="submit" value="Subscribe">
            to the Eval/Apply Dispatch
            <em>(thanks, <a href="https://buttondown.email" target="_blank">Buttondown</a>!)</em>
          </span>
        </form>
      </p>
    </div>
  </header>
  <hr>
  <section class="stack">
      <div class="footnotes box invert">
<p>Series: <a href="../emerging-from-dotemacs-bankruptcy/index.html#main">prelude</a> → <a href="../emerging-from-dotemacs-bankruptcy-init-begins/index.html#main">init begins</a> → <a href="../emerging-from-dotemacs-bankruptcy-packages/index.html#main">packages</a> → <a href="../emerging-from-dotemacs-bankruptcy-midway-refactor/index.html#main">midway refactor</a> → <strong>(<a href="../emerging-from-dotemacs-bankruptcy-getting-about/index.html#main">getting about</a>)</strong> → <a href="../emerging-from-dotemacs-bankruptcy-ide-experience/index.html#main">IDE (ft. Clojure)</a> → <a href="https://github.com/adityaathalye/dotemacs">.emacs.d</a></p>
</div>
<figure>
<img src="getting-about.jpg" />
<figcaption>My Emacs sessions often look like this. One or more persistent windows of work-in-progress files, <em>and</em> one or more transient windows or buffer contexts for functions like search, magit, documentation lookup, linter feedback so forth. A seamlessly intermeshed set of modes delivers a fluid workflow that I love.</figcaption>
</figure>
<p>We craft our super slick <em>keyboard-driven</em><a href="#fn1" class="footnote-ref" id="fnref1" role="doc-noteref"><sup>1</sup></a> "getting about" user experience and interface using a <em>composite</em> of:</p>
<ul>
<li>enhanced completions (company, counsel, which key)</li>
<li>narrowing (ivy)</li>
<li>search (swiper + ivy)</li>
<li>remembering state and history (save file/history/desktop etc…)</li>
<li>window management (golden ratio mode)</li>
<li>navigation methods (key-chord, avy etc.)</li>
<li>surfacing meta-information (documentation, argument lists etc.)</li>
<li>enhanced project navigation (projectile)</li>
<li>etc…</li>
</ul>
<p>I say <em>composite</em>, because in isolation any one of those enhancements is marginally useful. It is only when the big and little details interplay with each other, that we achieve an experience far greater than the sum of the parts.</p>
<p>But first, why go through all this trouble?</p>
<p>Because professionals <em>like</em> their interfaces organised <em>and</em> dense <em>and</em> fast to use (to access, execute, discover). Think about car dashboards (the good ones), airplane instrumentation, network operations centers, intensive care units and so forth. I too like information-dense heads up display style interfaces, with functionality that adapts to changing context, provided it does so in a predictable, globally consistent, <em>unobtrusive</em> manner.</p>
<p>The picture at the <a href="#blog-post">beginning</a> of this post shows what my Emacs session often looks like, typically when I'm deep in <em>The Zone</em>, thinking about something, researching, solving problems, programming, writing etc. In fact, the image shows my dotemacs configuration open (main vertical), with a help window for a function that I wanted to double-check (right-top), and a draft of this very blog post (right-bottom) because I was cross-referencing my code while writing the post.</p>
<p>I also threw in a search for good measure (the temporarily embiggened echo area), which is one of the ways I use to narrow down to bits of code I want to visit. Here it shows search in use to jump between use package definitions. The echo area collapses down to 1 line high (the default), once a search is cancelled or completed (hit RET on a result to go to that place in the buffer being searched).</p>
<p>The layout was auto-rebalanced by golden-ratio-mode. So, if I move point to any other window, golden-ratio-mode gives the newly-focused the most visual space, while keeping the overall view aesthetically pleasing <em>and</em> useful (enough is visible in all windows).</p>
<p>And all commands are either in muscle memory, or a few keystrokes away via context-rich on-demand command-and-control panels powered by relevant modes that mesh together like <code>swiper</code>, <code>ivy</code>, <code>counsel</code>, <code>imenu</code>, <code>company</code>, <code>amx</code>.</p>
<p>The nice videos below elaborate the interaction model I am going for. You will have to imagine the <em>composite</em> of it all, or try it out for yourself!</p>
<p><strong>Video: How the packages Ivy, Counsel, and Swiper work together.</strong></p>
<ul>
<li>Ivy is a "narrowing and completion framework".</li>
<li>Swiper uses Ivy to enhance the isearch experience.</li>
<li>Counsel surfaces access to useful commands, using an interface / interaction model that composes with Ivy and Swiper functionality.</li>
</ul>
<figure>
<iframe width="560" height="315" src="https://www.youtube.com/embed/dUEquA02eJk" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>
<div class="footnotes"> <a href="https://www.youtube.com/watch?v=dUEquA02eJk">Improve project workflow with Ivy, Counsel, and Swiper! (Emacs)</a> - Marco Avelar
</div>
</figure>

<p><strong>Video: More neat Swiper search stuff.</strong></p>
<figure>
<iframe width="560" height="315" src="https://www.youtube.com/embed/0mwwN0S1dnQ" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>
<div class="footnotes"><a href="https://www.youtube.com/watch?v=0mwwN0S1dnQ">Using Emacs 6 - Search (Swiper)</a> - Mike Zamansky</div>
</figure>

<p><strong>Video: Avy lets us navigate visually using treemps. Treemaps are cool!</strong></p>
<figure>
  <iframe width="560" height="315" src="https://www.youtube.com/embed/VsNthJNkt30" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>
  <div class="footnotes"><a href="https://www.youtube.com/watch?v=VsNthJNkt30">Easy buffer navigation with avy! (Emacs)</a> - Marco Avelar</div>
</figure>

<p><strong>Video: Perfect automatic window resizing, using golden-ratio-mode.</strong></p>
<p>Years ago I learned of <code>golden-ratio</code> mode from my friend and colleague <a href="https://nitter.net/adityo">Adityo</a>, and I've never looked back since. As I mentioned before, I like to keep multiple mutually related contexts visible by opening things in various windows (e.g. edit code, and tests, and view linting at one go). And then pull up version control (magit) when needed <em>without</em> removing existing context. Golden ratio mode makes sure I can do all this without have to manually fiddle with window sizes or layouts. It generally creates all the real estate I need, for the window in use.</p>
<figure><iframe width="560" height="315" src="https://www.youtube.com/embed/k5Nwwo4QTmI" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>
<div class="footnotes"><a href="https://www.youtube.com/watch?v=k5Nwwo4QTmI">The Golden Ratio Package in Emacs: Perfect Window Resizing</a> - Emacs Elements</div></figure>

<p><strong>Video: <code>imenu</code> lets us pull up overviews of structure of the given context,</strong> e.g. when editing a markdown or orgmode file, I can pull up a navigable and searchable table of contents using headings. Likewise, when editing code, I can pull up a navigable and searchable listing of top-level names (vars, constants, functions, macros etc).</p>
<figure>
  <iframe width="560" height="315" src="https://www.youtube.com/embed/YM0TD8Eg9qg" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>
  <div class="footnotes"><a href="https://www.youtube.com/watch?v=YM0TD8Eg9qg">Navigating Emacs Documents With Imenu</a> - DistroTube</div>
  </figure>

<p><strong>Video: Completions via CompAny mode (as in "Complete Anything").</strong></p>
<figure>
  <iframe width="560" height="315" src="https://www.youtube.com/embed/nJABMnYpnWo" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>
    <div class="footnotes"><a href="https://www.youtube.com/watch?v=nJABMnYpnWo">Code completion with company-mode!</a> - Marco Avelar</div>
</figure>

<p>And I use key-chord mode to give me lightning-quick mnemonic access to very frequently used commands. I haven't counted but I think the chords <code>jj</code> (jump to word), <code>jk</code> (jump to char), <code>g;</code> (goto window) must be getting used a hundred times a day to navigate within a text, and across window contexts.</p>
<pre class="elisp"><code>(key-chord-define-global &quot;jj&quot; &#39;avy-goto-word-1)
(key-chord-define-global &quot;jl&quot; &#39;avy-goto-line)
(key-chord-define-global &quot;jk&quot; &#39;avy-goto-char)
(key-chord-define-global &quot;XX&quot; &#39;execute-extended-command)
(key-chord-define-global &quot;yy&quot; &#39;counsel-yank-pop)
(key-chord-define-global &quot;g;&quot; &#39;ace-window)
(key-chord-define-global &quot;;g&quot; &#39;ace-window)
</code></pre>
<p>Along with this, I also have configured other quality of life improvements like newer and improved keybindings, yasnippet, some sundry tweaks etc.</p>
<p>Many details can be fine-tuned, <em>if</em> need arises. For now, this is quite a satisfying setup that I understand fairly well.</p>
<p>The init.el so far (<a href="../emerging-from-dotemacs-bankruptcy-midway-refactor/index.html#main">previously</a>, <a href="../emerging-from-dotemacs-bankruptcy-packages/index.html#main">before that</a>, <a href="../emerging-from-dotemacs-bankruptcy-init-begins/index.html#main">even earlier</a>)…</p>
<details class="box invert stack">
<summary>
<code>We get around the place handsomely now</code>
<hr>
</summary>
<pre class="elisp"><code>;;; package --- init.el  -*- lexical-binding: t -*- --- My Emacs configuration.

;;; Commentary:

;;; This file is not part of GNU Emacs.

;;; Author: Aditya Athalye
;;; Created on: 30 June 2023
;;; Copyright (c) 2023 Aditya Athalye

;;; License:
;;; This program is free software; you can redistribute it and/or
;;; modify it under the terms of the MIT license, which is included
;;; with this distribution. See the LICENCE.txt file.

;;; Code:

;; Set the low bar Emacs compatibility high
(defvar dotemacs-min-version &quot;28.1&quot;)

(when (version&lt; emacs-version dotemacs-min-version)
  (error &quot;We demand spiffy new Emacs, at least v%s, but you have v%s&quot;
         dotemacs-min-version
         emacs-version))

;; ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
;; DIRECTORY STRUCTURE
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
;; Take clues from bbatsov/prelude, except keep structure relative to our
;; initial dotemacs-dir path. This way we can start the user&#39;s emacs via
;; ~/.emacs.d symlinked to the dotemacs repo, and develop/debug against
;; the repo without potentially overwriting transient state files of the
;; daily driver .emacs.d.

(defvar dotemacs-dir
  (file-name-directory (or load-file-name (buffer-file-name)))
  &quot;The dotemacs&#39; root.  Normally it should be ~/.emacs.d.&quot;)

(defvar dotemacs-custom-file (expand-file-name &quot;custom.el&quot; dotemacs-dir)
  &quot;Make Emacs add customisations here, instead of the init file.
Usually customisations made from the UI go into `custom-file&#39;.&quot;)
(setq custom-file dotemacs-custom-file)
(unless (file-exists-p dotemacs-custom-file)
  (make-empty-file dotemacs-custom-file))
(load-file custom-file) ; load *now*, instead of unpredictable load sequence

(defvar dotemacs-savefile-dir (file-name-as-directory
                               (expand-file-name &quot;savefile&quot; dotemacs-dir))
  &quot;This folder stores all the automatically generated save/history-files.&quot;)
(unless (file-exists-p dotemacs-savefile-dir)
  (make-directory dotemacs-savefile-dir))

;; ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
;; BETTER DEFAULTS
;; ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
;; via
;; - technomancy/better-defaults
;; - bbatsov/prelude
;; - vedang/emacs-up
;; - suvratapte/dot-emacs-dot-d

;; SPACES OVER TABS,
;; but keep up conventional appearances of 8 character wide tabs.
;; NOTE: Use `C-q TAB` to insert literal tabs.
(setq-default indent-tabs-mode nil
              tab-width 8
              fill-column 80)

(setq
 ;; PERFORMANCE
 ;; gc ~100MB for better overall performance. ~50-100MB is recommended
 ;; these days over the long-obsolete default of ~8MB.
 gc-cons-threshold (* 100 1024 1024)
 ;; Large files freeze Emacs. Warn for files over ~100MB.
 large-file-warning-threshold (* 100 1024 1024)
 ;; Always load newest byte code. cf. bbatsov/prelude
 load-prefer-newer t

 ;; INTERACTIONS
 inhibit-startup-message t
 ring-bell-function &#39;ignore ; no beeps
 require-final-newline t ; always well-form files
 confirm-kill-emacs &#39;y-or-n-p ; instead of disabling &#39;C-x C-c&#39;
 create-lockfiles nil
 tab-always-indent &#39;complete
 tab-first-completion &#39;word
 enable-recursive-minibuffers t
 minibuffer-depth-indicate-mode t
 uniquify-buffer-name-style &#39;forward
 uniquify-after-kill-buffer-p t ; rename after killing uniquified
 uniquify-ignore-buffers-re &quot;^\\*&quot;) ; spare special buffers

;; MORE INTERACTIONS
;; http://ergoemacs.org/emacs/emacs_save_restore_opened_files.html
(global-auto-revert-mode 1) ; auto-revert buffer if file-on-disk changes
(delete-selection-mode t) ; delete selection for any keypress
(add-hook &#39;before-save-hook &#39;delete-trailing-whitespace)
(fset &#39;yes-or-no-p &#39;y-or-n-p) ; typing &quot;yes/no&quot; gets annoying fast
(global-unset-key (kbd &quot;C-z&quot;)) ; avoid fat fingering `suspend-frame&#39;

;; UTF-8 as default encoding
;; ref: http://ergoemacs.org/emacs/emacs_encoding_decoding_faq.html
(set-language-environment &quot;UTF-8&quot;)

;; ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
;; VISUAL AESTHETICS
;; ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
;; Go easy on the eyes. This high-contrast darkmode theme is built
;; into Emacs, as of Emacs version 28.1
(load-theme &#39;modus-vivendi)

;; More screen real estate
(scroll-bar-mode 0)
(tool-bar-mode 0)
(tooltip-mode 0) ; disable popup, make help text appear in echo area
(menu-bar-mode 0)
(column-number-mode t)
(set-fringe-mode &#39;(5 . 13)) ;; describe variable fringe-mode
(global-display-line-numbers-mode 1) ; always show line numbers
(global-hl-line-mode +1)
(global-visual-line-mode +1) ; prefer Visual Line Mode
;; (add-hook &#39;text-mode-hook #&#39;visual-line-mode) ; selectively, instead of global visual line mode
;; (add-hook &#39;org-mode-hook  #&#39;visual-line-mode) ; selectively, instead of global visual line mode

;; Tweak Font sizes globally, and also set line number mode
(defun adi/set-frame-font--default ()
  &quot;Interactively set default frame font for day to day work.&quot;
  (interactive)
  (set-frame-font &quot;-PfEd-DejaVu Sans Mono-normal-normal-normal-*-13-*-*-*-m-0-iso10646-1&quot;)
  (global-display-line-numbers-mode -1))

(defun adi/set-frame-font--pair-prog ()
  &quot;Interactively set frame font for pair programming.&quot;
  (interactive)
  (set-frame-font &quot;-PfEd-DejaVu Sans Mono-normal-normal-normal-*-16-*-*-*-m-0-iso10646-1&quot;)
  (global-display-line-numbers-mode 1))

(defun adi/set-frame-font--code-demo ()
  &quot;Interactively set frame font for presentations and demos.&quot;
  (interactive)
  (set-frame-font &quot;-1ASC-Liberation Mono-normal-normal-normal-*-28-*-*-*-m-0-iso10646-1&quot;)
  (global-display-line-numbers-mode -1))

;; Ensure we always start Emacs with the default font.
(adi/set-frame-font--default)

;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
;; Package management
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;

(require &#39;package)
;; Explicitly set the exact package archives list
(setq package-archives &#39;((&quot;melpa&quot; . &quot;https://melpa.org/packages/&quot;)
                         (&quot;org&quot; . &quot;https://orgmode.org/elpa/&quot;)
                         (&quot;elpa&quot; . &quot;https://elpa.gnu.org/packages/&quot;)))
;; Set package download directory relative to the dotemacs-dir
(setq package-user-dir (file-name-as-directory
                        (expand-file-name &quot;elpa&quot; dotemacs-dir)))

(package-initialize)
(unless package-archive-contents
  (package-refresh-contents))

;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
;; Use use-package
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;

;; Ian Y.E. Pan&#39;s tutorial is a nice quick overview.
;; https://ianyepan.github.io/posts/setting-up-use-package/

(unless (package-installed-p &#39;use-package)
  (package-install &#39;use-package))

(eval-when-compile
  (add-to-list &#39;load-path package-user-dir)
  (require &#39;use-package))

(setq use-package-always-ensure t)
(setq use-package-expand-minimally t) ; set nil to debug use-package forms

;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
;; All the packages!
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;

;; Packages useful to configure packages

;; radian-software/blackout to tune major/minor mode names
;; in modeline. It unifies functionality of the mutually
;; confusing modeline lighters delight, diminish, and dim.
;; It integrates seamlessly with use-package.
(use-package blackout)

(use-package helpful ; h/t systemcrafters.net
  ;; https://github.com/Wilfred/helpful
  :ensure t
  :config
  (setq helpful-max-buffers 1) ; but actually we want it to reuse buffer
  :bind ((&quot;C-h f&quot; . #&#39;helpful-callable)
         (&quot;C-h F&quot; . #&#39;helpful-function) ; exclude macros
         (&quot;C-h v&quot; . #&#39;helpful-variable)
         (&quot;C-h k&quot; . #&#39;helpful-key)
         (&quot;C-h x&quot; . #&#39;helpful-command)
         ;; Lookup the current symbol at point. C-c C-d is
         ;; a common keybinding for this in lisp modes.
         (&quot;C-c C-d&quot; . #&#39;helpful-at-point))
  :blackout)

(use-package command-log-mode
  :ensure t
  :blackout)

;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
;;; Remember states of files, buffer, desktop
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
(use-package recentf
  :ensure t
  :config
  (setq recentf-save-file (expand-file-name &quot;recentf&quot;
                                            dotemacs-savefile-dir)
        recentf-max-saved-items 1000
        recentf-max-menu-items 10
        recentf-auto-cleanup &#39;never)
  (recentf-mode +1)
  :blackout)

(use-package savehist
  :config
  (setq savehist-additional-variables
        &#39;(search-ring regexp-search-ring)
        savehist-autosave-inerval 60
        savehist-file (expand-file-name &quot;savehist&quot;
                                        dotemacs-savefile-dir)))

(use-package saveplace
  :config
  (setq save-place-file
        (expand-file-name &quot;saveplace&quot; dotemacs-savefile-dir))
  (save-place-mode +1))

(use-package desktop
  :config
  (add-to-list &#39;desktop-path dotemacs-savefile-dir)
  (setq desktop-dirname dotemacs-savefile-dir
        desktop-auto-save-timeout 30)

  (defun adi/desktop-read-after-emacs-startup ()
    (when (file-exists-p
           (expand-file-name desktop-base-file-name desktop-dirname))
      (desktop-read)))
  ;; does not work with &#39;after-init-hook
  (add-hook &#39;emacs-startup-hook #&#39;adi/desktop-read-after-emacs-startup)

  (desktop-save-mode 1))

(use-package super-save ; h/t bbatsov/prelude
  :ensure t
  :config
  (super-save-mode +1)
  :blackout)

(use-package amx ; h/t Protesilaos Stavrou
  ;; NOTES: When amx is active:
  ;; - &quot;C-h f&quot; calls describe-function
  ;; - &quot;M-.&quot; jumps to definition
  ;; - &quot;C-h w&quot; shows keybindings for thing at point
  :ensure t
  :config
  (setq amx-save-file
        (expand-file-name &quot;amx-items&quot; dotemacs-savefile-dir))
  (setq amx-backend &#39;ivy) ; integrates with counsel-M-x
  (setq amx-show-key-bindings t) ; t by default
  ;; (add-to-list &#39;amx-ignored-command-matchers &quot;&quot;) ; to ignore commands
  (amx-mode +1)
  :blackout)

;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
;; Manage windows, buffers, movement, navigation and create a more
;; &quot;heads up display&quot; kind of experience.
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;

(use-package counsel ; brings in ivy, and swiper too
  :ensure t
  :config
  (ivy-mode +1)
  :bind
  (:map counsel-find-file-map
        (&quot;C-l&quot; . counsel-up-directory)
        :map global-map
        (&quot;M-x&quot; . counsel-M-x)
        (&quot;C-c c&quot; . counsel-company)
        (&quot;C-c i&quot; . counsel-imenu)
        (&quot;C-x C-f&quot; . counsel-find-file)
        (&quot;C-c C-f&quot; . counsel-recentf)
        (&quot;C-c g&quot; . counsel-git)         ; find files respecting gitignore
        (&quot;C-c k&quot; . counsel-ag)
        (&quot;C-c l&quot; . counsel-locate)
        (&quot;C-c b&quot; . counsel-switch-buffer-other-window))
  :blackout)

(use-package swiper
  :ensure t
  :bind
  (:map
   global-map
   (&quot;C-s&quot; . swiper)
   (&quot;C-c t&quot; . swiper-thing-at-point) ; swiper-map prefix key is &quot;C-c&quot;
   (&quot;C-c a t&quot; . swiper-all-thing-at-point)))

;; Note: Use &quot;M-o&quot; after &quot;C-x C-f&quot; or &quot;C-s&quot; for additional options
;; for the context for the thing selected in the minibuffer.
(use-package ivy
  :ensure t
  :config
  (ivy-mode t)
  (setq ivy-use-virtual-buffers t
        ivy-count-format &quot;%d/%d: &quot;)    ; per the docs
  :blackout)

(use-package ivy-rich ; h/t suvratapte/dot-emacs-dot-d
  :ensure t
  :custom
  (ivy-rich-path-style &#39;abbreviate)
  :config
  (ivy-rich-mode +1)
  :blackout)

(use-package ibuffer
  :bind (:map global-map
              (&quot;C-x C-b&quot; . ibuffer-other-window))
  :blackout)

(use-package which-key
  :ensure t
  :config (which-key-mode t)
  (setq which-key-idle-delay 0.5)
  ;; Sort based on the key description ignoring case (default
  ;; is &#39;which-key-key-order).
  (setq which-key-sort-order &#39;which-key-description-order)
  :blackout)

(use-package ace-window
  :ensure t
  :bind
  (:map global-map
        (&quot;s-w&quot; . &#39;ace-window)
        ([remap other-window] . &#39;ace-window)))

(use-package avy
  :ensure t)

(use-package key-chord
  :ensure t
  :config
  (key-chord-mode +1)

  (setq key-chord-one-key-delay 0.2)           ; e.g. &quot;jj&quot;, default 0.2
  (setq key-chord-two-keys-delay 0.2)          ; e.g. &quot;jk&quot;, default 0.1
  (setq key-chord-safety-interval-backward 0.5) ; default 0.1 is too close to key delays
  (setq key-chord-safety-interval-forward 0) ; default 0.35 causes laggy experience

  (key-chord-define-global &quot;jj&quot; &#39;avy-goto-word-1)
  (key-chord-define-global &quot;jl&quot; &#39;avy-goto-line)
  (key-chord-define-global &quot;jk&quot; &#39;avy-goto-char)
  (key-chord-define-global &quot;XX&quot; &#39;execute-extended-command)
  (key-chord-define-global &quot;yy&quot; &#39;counsel-yank-pop)
  (key-chord-define-global &quot;g;&quot; &#39;ace-window)
  (key-chord-define-global &quot;;g&quot; &#39;ace-window)
  :blackout)

(use-package golden-ratio
  ;; https://github.com/roman/golden-ratio.el
  :ensure t
  :config
  (golden-ratio-mode +1)
  ;; Set auto scale to `t&#39; for wide screens, but not for 16:10, 1900px HD displays
  (setq golden-ratio-auto-scale nil
        ;; golden-ratio-wide-adjust-factor 1
        ;; golden-ratio-adjust-factor .8
        )
  ;; Make golden ratio play nice with other modes
  (dolist (cmd &#39;(ace-window
                 magit-status
                 avy-goto-char
                 avy-goto-char-2
                 avy-goto-word-0
                 avy-goto-word-1
                 avy-goto-line))
    (add-to-list &#39;golden-ratio-extra-commands
                 cmd))
  :blackout)

(use-package rotate
  ;; https://github.com/daichirata/emacs-rotate
  :ensure t
  :blackout)

;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
;;; General text viewing and editing
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;

;; Enable narrowings to enhance focus, and reduce accidental
;; edits of nonfocus areas (thanks to save-restrictions).
;; h/t bbatsov/prelude
;; Note: `C-x n w` makes all visible again.
(put &#39;narrow-to-region &#39;disabled nil)
(put &#39;narrow-to-page &#39;disabled nil)
(put &#39;narrow-to-defun &#39;disabled nil)

;; COMplete ANYthing, please!
;; TODO: instead try radian&#39;s completion system
;;; ref: https://github.com/radian-software/radian
(use-package company
  :bind (:map global-map
              (&quot;TAB&quot; . company-indent-or-complete-common)
              ;; Got to love the name hippie-expand. Use this for general
              ;; expansions, because company-complete is good for the
              ;; current/narrow-case expansions. By default, `M-/` binds
              ;; to the less powerful `dabbrev-expand`. To alter search
              ;; options, :config the hippie-expand-try-functions-list.
              (&quot;M-/&quot; . hippie-expand))
  :config (setq company-idle-delay 0.1
                company-minimum-prefix-length 2)
  (global-company-mode t)
  :blackout)

;; Selections
(use-package expand-region
  :ensure t
  :bind
  ((&quot;C-=&quot; . er/expand-region)
   (&quot;C-M-=&quot; . er/contract-region)))

;; Multiple cursors
(use-package multiple-cursors
  :ensure t
  :config
  ;; Idea taken from &quot;Emacs: Define Key Sequence&quot;
  ;; ref: http://ergoemacs.org/emacs/emacs_keybinding_power_of_keys_sequence.html
  ;; define prefix keymap for multiple cursors
  (define-prefix-command &#39;adi/multi-cursor-keymap)
  (define-key adi/multi-cursor-keymap (kbd &quot;e&quot;) &#39;mc/edit-lines)
  (define-key adi/multi-cursor-keymap (kbd &quot;a&quot;) &#39;mc/mark-all-like-this-dwim)
  (define-key adi/multi-cursor-keymap (kbd &quot;r&quot;) &#39;mc/mark-all-in-region-regexp)
  (define-key adi/multi-cursor-keymap (kbd &quot;s&quot;) &#39;mc/mark-all-symbols-like-this-in-defun)
  (define-key adi/multi-cursor-keymap (kbd &quot;w&quot;) &#39;mc/mark-all-words-like-this-in-defun)
  (define-key adi/multi-cursor-keymap (kbd &quot;C-n&quot;) &#39;mc/mark-next-like-this)
  (define-key adi/multi-cursor-keymap (kbd &quot;C-p&quot;) &#39;mc/mark-previous-like-this)
  (define-key adi/multi-cursor-keymap (kbd &quot;C-a&quot;) &#39;mc/mark-all-like-this)
  :bind-keymap (&quot;C-c m&quot; . adi/multi-cursor-keymap))

(use-package wgrep ; editable grep buffers FTW!
  :ensure t)

;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
;;; Lispy editing support
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;

;; Tweak settings of built-in paren package
(use-package paren
  :ensure nil                    ; it already exists, don&#39;t try to search online
  :init
  (setq show-paren-delay 0)
  :config
  (show-paren-mode t)
  :blackout)

(use-package paredit
  ;; Handy configs available at the wiki https://www.emacswiki.org/emacs/ParEdit
  ;; including combining with eldoc, &quot;electric&quot; enabled modes etc.
  :ensure t
  :bind
  ((&quot;M-[&quot; . paredit-wrap-square)
   (&quot;M-{&quot; . paredit-wrap-curly))
  :hook ((emacs-lisp-mode lisp-interaction-mode ielm-mode)
         . paredit-mode)
  :blackout)

(use-package eldoc
  :ensure t
  :config
  (global-eldoc-mode t)
  :custom ; h/t jwiegley/dot-emacs
  (eldoc-echo-area-use-multiline-p t)
  (eldoc-echo-area-display-truncation-message nil)
  ;; for hooks, ref: https://www.emacswiki.org/emacs/ElDoc
  :hook ((emacs-lisp-mode lisp-interaction-mode ielm-mode)
         . eldoc-mode)
  :blackout)

;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
;;; Programming and Writing workflow support
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;

(use-package magit
  :ensure t
  :blackout)

(use-package projectile
  :ensure t
  :blackout)

(use-package yasnippet
  :ensure t
  :config
  (defvar dotemacs-yasnippets-dir
    (file-name-as-directory (expand-file-name &quot;snippets&quot; dotemacs-dir)))
  (unless (file-exists-p dotemacs-yasnippets-dir)
    (make-directory dotemacs-yasnippets-dir))

  (setq yas-snippet-dirs
        (list dotemacs-yasnippets-dir))

  (add-to-list &#39;hippie-expand-try-functions-list
               &#39;yas-hippie-try-expand)

  (yas-global-mode +1)
  :blackout yas-minor-mode)

(use-package yasnippet-snippets
  :ensure t
  :blackout)

(use-package flyspell
  :config (flyspell-mode +1))

(use-package flycheck
  :ensure t
  :config (global-flycheck-mode +1)
  :blackout)

(provide &#39;init)
;;; init.el ends here

</code></pre>
</details>
<p>Our current place in the rough plan:</p>
<ul>
<li>[✓] Set the very preliminaries.</li>
<li>[✓] Set up package management. I'll probably stick with the old familiars; elpa and melpa. I'm not sure about straight.el at this time.</li>
<li>[✓] Choose <code>use-package</code> to get and configure each package. I like how neat configs are, when defined with use-package.</li>
<li>[✓] Unexpectedly refactor the whole thing.</li>
<li>[✓] Make completions and "getting about" work (the right mix of ivy, consul, swiper, company, helm, imenu). Someone mentioned newer alternatives to helm. Have a look at that.</li>
<li>[✓] Fix general text editing stuff (keybindings, multiple cursors, snippets etc.)</li>
<li>[WIP] Add support for favourite programming languages.
<ul>
<li>[✓] Emacs Lisp</li>
<li>many others…</li>
</ul></li>
<li>org-mode specifics</li>
<li>then let's see…</li>
</ul>
<aside id="footnotes" class="footnotes footnotes-end-of-document" role="doc-endnotes">
<hr />
<ol>
<li id="fn1"><p>None of this is any use if one is unable to touch-type. I believe touch typing is a core skill that pays off in so many contexts, not just in highly keyboard-friendly contexts like text editing with Emacs or Vim. If you are not a decent touch typist I suggest getting to about 40 words per minute proficiency, which I feel is good enough to reap the benefits of my kind of workflow.<a href="#fnref1" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
</ol>
</aside>
  </section>
  <footer id="blog-post-footer" class="footer">
    <p><hr></p>
    <nav class="cluster">
      <span>&uarr; <a href="#blog-post-toc" rel="bookmark">toc</a></span>
      <span>&uarr; <a href="#blog-post" rel="bookmark">title</a></span>
      <span>&uarr; <a href="#site-header" rel="bookmark">menu</a></span>
    </nav>
    <p><hr></p>
          <nav class="cluster">
        <a href="mailto:blog.comments@evalapply.org?subject=DELETE_ME_HUMAN Emerging from dotemacs bankruptcy the hard way: getting about" rel="bookmark">&#x2709; email me</a>
        <span>&raquo; share &rarr;</span>
        <a href="https://bsky.app/intent/compose?text=Emerging%20from%20dotemacs%20bankruptcy%20the%20hard%20way%3A%20getting%20about%20https%3A%2F%2Fwww.evalapply.org%2Fposts%2Femerging-from-dotemacs-bankruptcy-getting-about%2Findex.html" target="_blank">[bsky]</a>
        <a href="https://www.linkedin.com/sharing/share-offsite/?url=https%3A%2F%2Fwww.evalapply.org%2Fposts%2Femerging-from-dotemacs-bankruptcy-getting-about%2Findex.html" target="_blank">[in]</a>
        <a href="https://news.ycombinator.com/submitlink?u=https%3A%2F%2Fwww.evalapply.org%2Fposts%2Femerging-from-dotemacs-bankruptcy-getting-about%2Findex.html&t=Emerging%20from%20dotemacs%20bankruptcy%20the%20hard%20way%3A%20getting%20about" target="_blank"> [HN]</a>
        <a href="https://lobste.rs/stories/new" target="_blank">[lobste.rs]</a>
        <a href="http://www.reddit.com/submit?url=https%3A%2F%2Fwww.evalapply.org%2Fposts%2Femerging-from-dotemacs-bankruptcy-getting-about%2Findex.html&title=Emerging%20from%20dotemacs%20bankruptcy%20the%20hard%20way%3A%20getting%20about" target="_blank">[reddit]</a>
        <a class="site-feed" href="https://www.evalapply.org/index.xml">feed</a>
      </nav>
          <p>
        <form action="https://buttondown.email/api/emails/embed-subscribe/evalapply"
              method="post" target="popupwindow"
              onsubmit="window.open('https://buttondown.email/evalapply','popupwindow')">
          <input type="email" name="email" id="bd-email">
          <span>
            <input type="submit" value="Subscribe">
            to the Eval/Apply Dispatch
            <em>(thanks, <a href="https://buttondown.email" target="_blank">Buttondown</a>!)</em>
          </span>
        </form>
      </p>
  </footer>
</article>
  </main>
      <footer id="site-footer">
  <hr>
  <div class="box invert footer stack">
    <p>&copy; 2025,
      <a href="http://adityaathalye.com" target="_blank">Aditya Athalye</a>.
      <span>All content licensed
        <a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/">
          CC BY-SA 4.0
        </a>, except where noted otherwise.
      </span>
      Built with
      <a href="https://github.com/adityaathalye/shite">shite</a>.
    </p>
  </div>
</footer>
    </div>
  </body>
</html>
